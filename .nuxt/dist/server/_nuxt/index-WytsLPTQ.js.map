{"version":3,"file":"index-WytsLPTQ.js","sources":["../../../../virtual:public?%2Fimg%2Fshophead.png","../../../../components/head/ShopHead.vue","../../../../components/card/ProductsCard.vue","../../../../pages/shop/index.vue"],"sourcesContent":["import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/img/shophead.png\")","<template>\r\n  <div class=\"shophead\">\r\n    <div class=\"container\">\r\n      <div class=\"shophead__main\">\r\n        <div class=\"shophead__content\">\r\n          <h1>Каталог</h1>\r\n          <p>\r\n            Ассортимент уютных и стильных бескаркасных кресел и пуфов помогут\r\n            вам найти идеальное решение для комфортного отдыха и создать\r\n            неповторимую атмосферу в вашем доме\r\n          </p>\r\n        </div>\r\n        <div class=\"shophead_img__w\">\r\n          <div class=\"shophead__img\">\r\n            <img src=\"/img/shophead.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\"></script>\r\n\r\n<style scoped lang=\"scss\">\r\n.shophead__main {\r\n  @include flex-start;\r\n  padding-left: 14.5rem;\r\n  gap: 2rem;\r\n  &:before {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    content: \"\";\r\n    background-color: $lbrown;\r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: 95rem;\r\n    max-height: 53.2rem;\r\n    pointer-events: none;\r\n    display: none;\r\n    @include bp($point_2) {\r\n      display: block;\r\n    }\r\n  }\r\n  @include bp($point_2) {\r\n    padding: 0 0 1rem 0;\r\n    flex-direction: column;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 5rem;\r\n    margin-bottom: 3rem;\r\n    font-family: $font_1;\r\n    @include bp($point_2) {\r\n      position: relative;\r\n      z-index: 2;\r\n      font-size: 3rem;\r\n      color: $white;\r\n      margin-bottom: 1.7rem;\r\n    }\r\n  }\r\n  p {\r\n    color: $gray;\r\n    font-size: 2.4rem;\r\n    @include bp($point_2) {\r\n      font-size: 1.6rem;\r\n      color: $white;\r\n    }\r\n  }\r\n}\r\n\r\n.shophead__content {\r\n  max-width: 60.4rem;\r\n  margin-right: -4rem;\r\n  padding: 10rem 0 17.9rem 0;\r\n  @include bp($point_2) {\r\n    margin-right: 0;\r\n    padding: 4rem 0 0 0;\r\n    max-width: 100%;\r\n    position: relative;\r\n    z-index: 2;\r\n  }\r\n}\r\n\r\n.shophead {\r\n  background-color: $light;\r\n  padding-top: $header;\r\n  position: relative;\r\n  margin-bottom: 5rem;\r\n  @include bp($point_2) {\r\n    padding-top: 7.5rem;\r\n    margin: 0;\r\n    overflow-x: hidden;\r\n  }\r\n}\r\n\r\n.shophead_img__w {\r\n  z-index: 2;\r\n  &:before {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    content: \"\";\r\n    background-color: $lbrown;\r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: 95rem;\r\n    max-height: 53.2rem;\r\n    pointer-events: none;\r\n    z-index: -1;\r\n    @include bp($point_2) {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n\r\n.shophead__img {\r\n  max-width: 79.5rem;\r\n  @include bp($point_2) {\r\n    max-width: 120%;\r\n    width: 120%;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"products\">\r\n    <div :class=\"`products_slider products_slider_${products.id}`\">\r\n      <Swiper\r\n        :slides-per-view=\"1\"\r\n        :space-between=\"20\"\r\n        :modules=\"[Navigation, Pagination]\"\r\n        :breakpoints=\"{\r\n          320: {\r\n            slidesPerView: 1.2,\r\n            spaceBetween: 10,\r\n            slidesOffsetBefore: 10,\r\n            slidesOffsetAfter: 10,\r\n          },\r\n          768: {\r\n            slidesPerView: 1,\r\n            spaceBetween: 10,\r\n            slidesOffsetBefore: 10,\r\n            slidesOffsetAfter: 10,\r\n          },\r\n          1024: {\r\n            slidesPerView: 1,\r\n            spaceBetween: 10,\r\n          },\r\n        }\"\r\n        :navigation=\"{\r\n          prevEl: `.products_prev_${products.id}`,\r\n          nextEl: `.products_next_${products.id}`,\r\n        }\"\r\n        @slideChange=\"updateCurrentSlide\"\r\n      >\r\n        <SwiperSlide\r\n          v-for=\"(item, i) in products.acf.galereya\"\r\n          :key=\"'products-item-slide-' + item.id\"\r\n        >\r\n          <img :src=\"item.img.url\" :alt=\"item.img.alt\" />\r\n        </SwiperSlide>\r\n      </Swiper>\r\n      <div class=\"products_navigation\">\r\n        <div :class=\"`products_prev products_prev_${products.id}`\">\r\n          <Icon name=\"bi:chevron-left\" size=\"30\" />\r\n        </div>\r\n        <div class=\"products-pagination\">\r\n          <span class=\"fraction\">\r\n            {{ currentSlide }}\r\n            <div class=\"total\">/{{ totalSlides }}</div>\r\n          </span>\r\n        </div>\r\n        <div :class=\"`products_next products_next_${products.id}`\">\r\n          <Icon name=\"bi:chevron-right\" size=\"30\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"products_content\">\r\n      <div class=\"products_content__head\">\r\n        <h3>{{ products.title }}</h3>\r\n        <div class=\"products_description\">\r\n          {{ products.acf.about_txt_product }}\r\n        </div>\r\n        <NuxtLink :to=\"`/shop/products/${products.slug}`\"\r\n          >Подробнее о товаре</NuxtLink\r\n        >\r\n      </div>\r\n      <div class=\"products_content_bottom\">\r\n        <ul class=\"products_color_select\">\r\n          <li\r\n            v-for=\"(color, index) in products.attributes.pa_colors\"\r\n            :key=\"index\"\r\n          >\r\n            <input\r\n              type=\"radio\"\r\n              :id=\"'color-' + index + '-' + products.id\"\r\n              :value=\"color\"\r\n              v-model=\"selectedColor\"\r\n              @change=\"updateCart\"\r\n            />\r\n            <label :for=\"'color-' + index + '-' + products.id\">\r\n              <span :style=\"{ backgroundColor: colorMap[color] }\"></span>\r\n            </label>\r\n          </li>\r\n        </ul>\r\n        <div class=\"products_color_selected\">\r\n          Цвет: <span>{{ selectedColor }}</span>\r\n        </div>\r\n        <div class=\"products_prices\">\r\n          <p>{{ products.price }} ₽</p>\r\n          <div class=\"products_prices__right\">\r\n            <AddToCart\r\n              :active=\"isCarts\"\r\n              :name=\"isCarts ? 'В корзине' : 'В корзину'\"\r\n              icon=\"custom:cart\"\r\n              @click=\"toggleCart\"\r\n            />\r\n            <Qty\r\n              :initialQuantity=\"cartItem?.quantity || selectedQuantity\"\r\n              v-if=\"isCarts\"\r\n              @updateQuantity=\"updateQuantity\"\r\n              @clear=\"removeCart(products)\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\r\nimport { Navigation, Pagination } from \"swiper/modules\";\r\nimport { useCartStore, useCartStoreRefs } from \"~/store/useCartStore\";\r\nimport AddToCart from \"../ui/AddToCart.vue\";\r\nimport { ref, computed } from \"vue\";\r\nimport Qty from \"../ui/Qty.vue\";\r\nimport { useToast } from \"vue-toastification\";\r\n\r\n// Используем Pinia store\r\nconst { addCart, removeCart, updateCartItem } = useCartStore();\r\nconst { carts } = useCartStoreRefs();\r\n\r\n// Пропсы\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    products: any;\r\n  }>(),\r\n  {\r\n    products: null,\r\n  }\r\n);\r\n\r\n// Реактивные переменные\r\nconst currentSlide = ref(1);\r\nconst totalSlides = ref(props.products.acf.galereya.length);\r\nconst toast = useToast();\r\nconst cartItem = computed(() =>\r\n  carts.value.find((cart: any) => cart.id === props.products.id)\r\n);\r\n\r\nconst selectedQuantity = ref(cartItem.value ? cartItem.value.quantity : 1);\r\nconst selectedColor = ref(props.products.attributes.pa_colors[0]);\r\n\r\n// Карта цветов для визуального отображения\r\nconst colorMap: Record<string, string> = {\r\n  Бежевый: \"#D8D1B6\",\r\n  Зелёный: \"#547C51\",\r\n  Серый: \"#5B5E62\",\r\n  Темный: \"#342F2F\",\r\n  [\"Светло-жёлтый\"]: \"#EAECD7\",\r\n  Черный: \"#000000\",\r\n  \"Тёмно-серый\": \"#909090\",\r\n};\r\n\r\n// Проверка, находится ли товар в корзине\r\nconst isCarts = computed(() =>\r\n  carts.value.some((cart: any) => cart.id === props.products.id)\r\n);\r\n\r\n// Обновляем текущее количество слайдов\r\nconst updateCurrentSlide = (swiper: any) => {\r\n  currentSlide.value = swiper.realIndex + 1;\r\n};\r\n\r\n// Метод для добавления или удаления товара из корзины\r\nconst toggleCart = () => {\r\n  if (isCarts.value) {\r\n    removeCart(props.products);\r\n    toast.error(\"Удалено из корзины\");\r\n  } else {\r\n    addCart({\r\n      ...props.products,\r\n      quantity: selectedQuantity.value,\r\n      color: selectedColor.value,\r\n    });\r\n    toast.success(\"Добавлено в корзину\");\r\n  }\r\n};\r\n\r\n// Обновляем корзину при изменении цвета или количества\r\nconst updateCart = () => {\r\n  if (isCarts.value) {\r\n    updateCartItem({\r\n      id: props.products.id,\r\n      color: selectedColor.value,\r\n      quantity: selectedQuantity.value,\r\n    });\r\n  }\r\n};\r\n\r\n// Обновляем количество товара\r\nconst updateQuantity = (quantity: number) => {\r\n  selectedQuantity.value = quantity;\r\n  updateCart();\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.products {\r\n  @include flex-start;\r\n  gap: 16.5rem;\r\n\r\n  @include bp($point_2) {\r\n    flex-direction: column;\r\n    gap: 1.8rem;\r\n  }\r\n}\r\n\r\n.products_slider {\r\n  max-width: 74.5rem;\r\n  position: relative;\r\n  @include bp($point_2) {\r\n    max-width: 100%;\r\n  }\r\n\r\n  :deep(.swiper) {\r\n    height: 60.5rem;\r\n    @include bp($point_2) {\r\n      height: 22.3rem;\r\n    }\r\n  }\r\n\r\n  .swiper-slide {\r\n    @include flex-center;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n}\r\n\r\n.products_navigation {\r\n  @include flex-space;\r\n  margin-top: 3rem;\r\n\r\n  @include bp($point_2) {\r\n    display: none;\r\n  }\r\n\r\n  div {\r\n    cursor: pointer;\r\n    @include flex-center;\r\n  }\r\n}\r\n\r\n.fraction {\r\n  font-size: 2.4rem;\r\n  @include flex-center;\r\n  font-family: $font_2;\r\n}\r\n.total {\r\n  font-size: 2rem;\r\n  color: #ababab;\r\n  padding-left: 0.5rem;\r\n}\r\n\r\n.products_content {\r\n  @include bp($point_2) {\r\n    max-width: 100%;\r\n    padding: 0 1.6rem;\r\n  }\r\n}\r\n\r\n.products_content__head {\r\n  margin-bottom: 8rem;\r\n  @include bp($point_2) {\r\n    margin-bottom: 3.5rem;\r\n  }\r\n  h3 {\r\n    font-size: 4rem;\r\n    margin-bottom: 3rem;\r\n    @include bp($point_2) {\r\n      font-size: 2.4rem;\r\n      margin-bottom: 1.5rem;\r\n    }\r\n  }\r\n\r\n  a {\r\n    color: $brown;\r\n    font-size: 2.4rem;\r\n    font-family: $font_2;\r\n    text-decoration: underline;\r\n    text-underline-position: under;\r\n    display: inline-flex;\r\n\r\n    @include bp($point_2) {\r\n      font-size: 2rem;\r\n    }\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n}\r\n\r\n.products_description {\r\n  margin-bottom: 3.5rem;\r\n  color: $gray;\r\n\r\n  @include bp($point_2) {\r\n    font-size: 1.6rem;\r\n    margin-bottom: 2rem;\r\n  }\r\n}\r\n\r\n.products_color_select {\r\n  @include flex-start;\r\n  margin-bottom: 3.5rem;\r\n  gap: 2.1rem;\r\n  @include bp($point_2) {\r\n    gap: 1.5rem;\r\n    margin-bottom: 2rem;\r\n  }\r\n  li {\r\n    width: 3.5rem;\r\n    height: 3.5rem;\r\n  }\r\n\r\n  input {\r\n    display: none;\r\n    &:checked + label {\r\n      border: 0.1rem solid $brown;\r\n      span {\r\n        transform: scale(0.8);\r\n      }\r\n    }\r\n  }\r\n\r\n  label {\r\n    width: 100%;\r\n    height: 100%;\r\n    @include flex-center;\r\n    cursor: pointer;\r\n    span {\r\n      transition: all 0.3s ease-in-out;\r\n      width: 100%;\r\n      @include flex-center;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n.products_color_selected {\r\n  margin-bottom: 7rem;\r\n  font-size: 2.4rem;\r\n  font-family: $font_2;\r\n  @include flex-start;\r\n  gap: 0.5rem;\r\n  @include bp($point_2) {\r\n    font-size: 1.6rem;\r\n    margin-bottom: 3rem;\r\n  }\r\n  span {\r\n    color: $brown;\r\n    font-size: 2rem;\r\n    font-family: $font_1;\r\n    @include bp($point_2) {\r\n      font-size: 1.6rem;\r\n    }\r\n  }\r\n}\r\n\r\n.products_prices {\r\n  @include flex-start;\r\n  gap: 10rem;\r\n  @include bp($point_2) {\r\n    flex-direction: column;\r\n    gap: 3rem;\r\n    align-items: flex-start;\r\n  }\r\n  p {\r\n    font-size: 4rem;\r\n    font-family: $font_2;\r\n    @include bp($point_2) {\r\n    }\r\n  }\r\n}\r\n\r\n.products_prices__right {\r\n  @include flex-end;\r\n  gap: 3.1rem;\r\n  @include bp($point_2) {\r\n    width: 100%;\r\n    // flex-direction: column;\r\n    // align-items: flex-start;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"shop\">\r\n    <ShopHead />\r\n    <div class=\"container\">\r\n      <ul class=\"products_list p10\">\r\n        <li\r\n          class=\"products_item\"\r\n          v-for=\"item in products\"\r\n          :key=\"'products-item' + item.id\"\r\n        >\r\n          <ProductsCard :products=\"item\" />\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport ShopHead from \"~/components/head/ShopHead.vue\";\r\nimport { useProductsStoreRefs } from \"~/store/useProductsStore\";\r\nimport ProductsCard from \"~/components/card/ProductsCard.vue\";\r\n\r\nconst { products } = useProductsStoreRefs();\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.products_list {\r\n  li {\r\n    @include bp($point_2) {\r\n      margin-bottom: 3rem;\r\n    }\r\n    &:not(:last-child) {\r\n      margin-bottom: 10rem;\r\n      @include bp($point_2) {\r\n        margin-bottom: 6rem;\r\n      }\r\n    }\r\n\r\n    &:nth-child(even) {\r\n      :deep(.products_slider) {\r\n        @include bp($point_2, $direction: min) {\r\n          order: 1;\r\n        }\r\n      }\r\n\r\n      :deep(.products_content) {\r\n        @include bp($point_2, $direction: min) {\r\n          order: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.shop {\r\n  .container {\r\n    @include bp($point_2) {\r\n      padding: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuD,MAAe,aAAA,gBAAgB,mBAAmB;;ACAzG,SAAA,eAAA,MAAA,OAAA,SAAA,QAAA;AAAA,QAAA;;;;;;;;;;;;;;;;ACoHA,UAAM,EAAE,SAAS,YAAY,mBAAmB,aAAa;AACvD,UAAA,EAAE,UAAU;AAGlB,UAAM,QAAQ;AAUR,UAAA,eAAe,IAAI,CAAC;AAC1B,UAAM,cAAc,IAAI,MAAM,SAAS,IAAI,SAAS,MAAM;AAC1D,UAAM,QAAQ;AACd,UAAM,WAAW;AAAA,MAAS,MACxB,MAAM,MAAM,KAAK,CAAC,SAAc,KAAK,OAAO,MAAM,SAAS,EAAE;AAAA,IAAA;AAG/D,UAAM,mBAAmB,IAAI,SAAS,QAAQ,SAAS,MAAM,WAAW,CAAC;AACzE,UAAM,gBAAgB,IAAI,MAAM,SAAS,WAAW,UAAU,CAAC,CAAC;AAGhE,UAAM,WAAmC;AAAA,MACvC,SAAS;AAAA,MACT,SAAS;AAAA,MACT,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,CAAC,eAAe,GAAG;AAAA,MACnB,QAAQ;AAAA,MACR,eAAe;AAAA,IAAA;AAIjB,UAAM,UAAU;AAAA,MAAS,MACvB,MAAM,MAAM,KAAK,CAAC,SAAc,KAAK,OAAO,MAAM,SAAS,EAAE;AAAA,IAAA;AAIzD,UAAA,qBAAqB,CAAC,WAAgB;AAC7B,mBAAA,QAAQ,OAAO,YAAY;AAAA,IAAA;AAI1C,UAAM,aAAa,MAAM;AACvB,UAAI,QAAQ,OAAO;AACjB,mBAAW,MAAM,QAAQ;AACzB,cAAM,MAAM,oBAAoB;AAAA,MAAA,OAC3B;AACG,gBAAA;AAAA,UACN,GAAG,MAAM;AAAA,UACT,UAAU,iBAAiB;AAAA,UAC3B,OAAO,cAAc;AAAA,QAAA,CACtB;AACD,cAAM,QAAQ,qBAAqB;AAAA,MACrC;AAAA,IAAA;AAIF,UAAM,aAAa,MAAM;AACvB,UAAI,QAAQ,OAAO;AACF,uBAAA;AAAA,UACb,IAAI,MAAM,SAAS;AAAA,UACnB,OAAO,cAAc;AAAA,UACrB,UAAU,iBAAiB;AAAA,QAAA,CAC5B;AAAA,MACH;AAAA,IAAA;AAII,UAAA,iBAAiB,CAAC,aAAqB;AAC3C,uBAAiB,QAAQ;AACd;IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxKP,UAAA,EAAE,aAAa;;;;;;;;;;;;;;;;;;;;;"}